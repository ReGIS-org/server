# server
Server to host NetCDF files and provide a WML interface. 

## Overview
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. 

To run the server, please execute the following:

```
sudo pip3 install -U connexion # install Connexion from PyPI
python3 app.py
```

and open your browser to here:

```
http://localhost:8080/regis6/NetCDFServer/1.0.0/ui/
```

Your Swagger definition lives here:

```
http://localhost:8080/regis6/NetCDFServer/1.0.0/swagger.json
```



## Set up docker
To start:

1. clone repository: `git clone https://github.com/ReGIS-org/server.git`
1. go to server directory: `cd server`
1. start webdav and docker container: `docker-compose up -d`
1. go to upload directory: `cd ..`
1. copy netcdf file to webdav container: `curl -T tos_O1_2001-2002.nc http://webdav:vadbew@localhost:8888/`
1. upload file from webdav container to ncwms: `python upload.py`
1. check if the upload succeeded: go to http://localhost/ncWMS/admin/ in a web browser (user/password: ncwms/ncwms)

Notes:

* in order for `docker-compose` to run, the docker deamon must be running, for example: `sudo service docker start`
* example netcdf files can be downloaded from: http://www.unidata.ucar.edu/software/netcdf/examples/files.html
* the name of the expected netcdf file is specified in the file `server/formdata.json` (on line 2)
